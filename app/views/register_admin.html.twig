{% extends "base/template.html.twig" %}

{% block content %}
<h4 class="center">Registro</h4>
<form action="/register" method="POST" enctype="multipart/form-data">
<div class="row">
  <div class="col s12 m6 l4 offset-l4 offset-m3">
    <label>Evento:</label>
    <select name="event" id="event">
      {% for event in events %}
        <option value="{{event.id}}">{{event.name}}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col s12 m6 l4 offset-l4 offset-m3">
    <div class="file-field input-field">
      <div class="btn">
        <span>Script:</span>
        <input name="csv" type="file">
      </div>
      <div class="file-path-wrapper">
        <input class="file-path validate" type="text" required>
      </div>
      <p>Formato soportado: svg</p>
    </div>
  </div>
</div>
<div class="row">
  <div class="col s12 m6 l12 offset-m5 offset-l7">
    <button class="btn waves-effect waves-light" id="submit-trigger" type="submit" name="action">Submit
     <i class="mdi-content-send right"></i>
    </button>
   </div>
</div>
</form>
<div class="row">
  <h5>Logs</h5>
  <div class="col s12 m6 l4 offset-l4 offset-m3">
    <p><b>ERROR:</b>{{file}}</p>
  </div>
  <div class="col s12 m6 l4 offset-l4 offset-m3">
    <p><b>Usuarios existentes:</b> {{old|json_encode()}}</p>
  </div>
  <div class="col s12 m6 l4 offset-l4 offset-m3">
    <p><b>Usuarios nuevos:</b>{{new|json_encode()}}</p>
  </div>
  <div class="col s12 m6 l4 offset-l4 offset-m3">
    <p><b>Usuarios previamente registrados al evento:</b>{{registered|json_encode()}}</p>
  </div>
  <div class="col s12 m6 l4 offset-l4 offset-m3">
    <p><b>LÃ­neas con formato incorrecto:</b>{{faults}}</p>
  </div>
</div>


{% endblock content %}

{% block customjs %}
{% endblock customjs %}
